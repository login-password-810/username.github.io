<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Account Portal</title>
<style>
* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100vh;
  display: grid;
  place-items: center;
  background: linear-gradient(135deg, #eef1f6, #f9fafc);
  font-family: system-ui, -apple-system, BlinkMacSystemFont,
               "Segoe UI", "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
  color: #333;
}

.card {
  width: min(92vw, 440px);
  background: #fff;
  border-radius: 16px;
  padding: 28px;
  box-shadow: 0 20px 40px rgba(0,0,0,.08);
}

.logo { text-align: center; font-weight: 700; letter-spacing: .08em; margin-bottom: 6px; }
h1 { font-size: 10px; text-align: center; margin: 0 0 22px; color: #444; }
label { font-size: 12px; color: #666; }
.field { position: relative; }

input, select {
  width: 100%;
  padding: 12px 40px 12px 14px;
  margin: 6px 0 14px;
  border-radius: 10px;
  border: 1px solid #ddd;
  font-size: 14px;
}

input[type="password"]::-ms-reveal,
input[type="password"]::-ms-clear { display: none; }
input[type="password"]::-webkit-textfield-decoration-container { display: none; }

.valid { position: absolute; right: 12px; top: 38px; font-size: 12px; color: #2fb344; display: none; }
.show-btn { position: absolute; right: 36px; top: 36px; background: none; border: none; cursor: pointer; font-size: 14px; color: #666; }

.error { color: #e03131; font-size: 13px; text-align: center; margin-bottom: 12px; display: none; }
button.main { width: 100%; padding: 13px; border-radius: 12px; border: none; background: #4f7cff; color: #fff; font-size: 15px; cursor: pointer; }
.note { margin-top: 12px; font-size: 11px; color: #888; text-align: center; }
.loading { display: none; margin-top: 18px; }
.bar { width: 100%; height: 8px; background: #e9ecef; border-radius: 6px; overflow: hidden; }
.bar span { display: block; height: 100%; width: 0%; background: #4f7cff; animation: load 1.6s forwards; }
@keyframes load { to { width: 100%; } }
.result { display: none; text-align: center; }
</style>
</head>
<body>

<div class="card" id="formCard">
  <div class="logo">ãƒ­ã‚°ã‚¤ãƒ³</div>
  <h1>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒå®‰å…¨ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™</h1>

  <div class="error" id="errorMsg">ã™ã¹ã¦å…¥åŠ›ã—ã¦ãã ã•ã„</div>
  <div class="error" id="emailCharError">ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯åŠè§’è‹±æ•°å­—ã¨ @ . ã®ã¿ä½¿ç”¨ã§ãã¾ã™</div>
  <div class="error" id="emailFormatError">æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>
  <div class="error" id="phoneError">æœ‰åŠ¹ãªé›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</div>

  <div class="field">
    <label>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
    <input type="text" id="email" placeholder="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹">
    <div class="valid">âœ”</div>
  </div>

  <div class="field">
    <label>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
    <input type="password" id="password" placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰">
    <button type="button" class="show-btn" id="showPw">ğŸ‘</button>
    <div class="valid">âœ”</div>
  </div>

  <div class="field">
    <label>ä½æ‰€</label>
    <select id="address">
      <option value="">é¸æŠã—ã¦ãã ã•ã„</option>
      <option>åŒ—æµ·é“</option><option>é’æ£®çœŒ</option><option>å²©æ‰‹çœŒ</option><option>å®®åŸçœŒ</option>
      <option>ç§‹ç”°çœŒ</option><option>å±±å½¢çœŒ</option><option>ç¦å³¶çœŒ</option><option>èŒ¨åŸçœŒ</option>
      <option>æ ƒæœ¨çœŒ</option><option>ç¾¤é¦¬çœŒ</option><option>åŸ¼ç‰çœŒ</option><option>åƒè‘‰çœŒ</option>
      <option>æ±äº¬éƒ½</option><option>ç¥å¥ˆå·çœŒ</option><option>æ–°æ½ŸçœŒ</option><option>å¯Œå±±çœŒ</option>
      <option>çŸ³å·çœŒ</option><option>ç¦äº•çœŒ</option><option>å±±æ¢¨çœŒ</option><option>é•·é‡çœŒ</option>
      <option>å²é˜œçœŒ</option><option>é™å²¡çœŒ</option><option>æ„›çŸ¥çœŒ</option><option>ä¸‰é‡çœŒ</option>
      <option>æ»‹è³€çœŒ</option><option>äº¬éƒ½åºœ</option><option>å¤§é˜ªåºœ</option><option>å…µåº«çœŒ</option>
      <option>å¥ˆè‰¯çœŒ</option><option>å’Œæ­Œå±±çœŒ</option><option>é³¥å–çœŒ</option><option>å³¶æ ¹çœŒ</option>
      <option>å²¡å±±çœŒ</option><option>åºƒå³¶çœŒ</option><option>å±±å£çœŒ</option><option>å¾³å³¶çœŒ</option>
      <option>é¦™å·çœŒ</option><option>æ„›åª›çœŒ</option><option>é«˜çŸ¥çœŒ</option><option>ç¦å²¡çœŒ</option>
      <option>ä½è³€çœŒ</option><option>é•·å´çœŒ</option><option>ç†Šæœ¬çœŒ</option><option>å¤§åˆ†çœŒ</option>
      <option>å®®å´çœŒ</option><option>é¹¿å…å³¶çœŒ</option><option>æ²–ç¸„çœŒ</option>
      <option>ãã®ä»–</option>
    </select>
    <div class="valid">âœ”</div>
  </div>

  <div class="field">
    <label>é›»è©±ç•ªå·</label>
    <input type="text" id="phone" placeholder="é›»è©±ç•ªå·">
    <div class="valid">âœ”</div>
  </div>

  <button class="main" id="sendBtn">ç¶šè¡Œ</button>

  <div class="loading" id="loading">
    <div class="bar"><span></span></div>
  </div>

  <div class="note">ç¶šè¡Œã‚’æŠ¼ã™ã¨ç¢ºèªç”»é¢ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã¾ã™</div>
</div>

<div class="card result" id="resultCard">
  <h2>âœ…å…¥åŠ›ã—ãŸå†…å®¹ã¯æ­£å¸¸ã«é€ä¿¡ã•ã‚Œã¾ã—ãŸ</h2>
</div>

<script>
const fields = document.querySelectorAll(".field");
const email = document.getElementById("email");
const password = document.getElementById("password");
const phone = document.getElementById("phone");
const showPw = document.getElementById("showPw");

const emailCharError = document.getElementById("emailCharError");
const emailFormatError = document.getElementById("emailFormatError");
const phoneError = document.getElementById("phoneError");
const errorMsg = document.getElementById("errorMsg");
const sendBtn = document.getElementById("sendBtn");
const loading = document.getElementById("loading");
const formCard = document.getElementById("formCard");
const resultCard = document.getElementById("resultCard");

// âœ”è¡¨ç¤ºï¼ˆãƒ¡ãƒ¼ãƒ«ãƒ»é›»è©±ä»¥å¤–ï¼‰
fields.forEach(field => {
  const input = field.querySelector("input, select");
  const valid = field.querySelector(".valid");
  if (input === email || input === phone) return;

  input.addEventListener("input", () => {
    valid.style.display = input.value.trim() ? "block" : "none";
  });
});

// ãƒ¡ãƒ¼ãƒ«ãƒã‚§ãƒƒã‚¯
email.addEventListener("input", () => {
  const valid = email.closest(".field").querySelector(".valid");
  const charRegex = /^[a-zA-Z0-9@.]*$/;
  const formatRegex = /^[a-zA-Z0-9.]+@[a-zA-Z0-9.]+\.[a-zA-Z0-9]+$/;

  if (!charRegex.test(email.value)) {
    emailCharError.style.display = "block";
    emailFormatError.style.display = "none";
    valid.style.display = "none";
    return;
  } else {
    emailCharError.style.display = "none";
  }

  if (email.value && !formatRegex.test(email.value)) {
    emailFormatError.style.display = "block";
    valid.style.display = "none";
  } else if (formatRegex.test(email.value)) {
    emailFormatError.style.display = "none";
    valid.style.display = "block";
  } else {
    valid.style.display = "none";
  }
});

// é›»è©±ç•ªå·ãƒã‚§ãƒƒã‚¯
phone.addEventListener("input", () => {
  const valid = phone.closest(".field").querySelector(".valid");
  const digits = phone.value.replace(/\D/g, ''); // æ•°å­—ã ã‘æŠ½å‡º

  if (digits.length === 10 || digits.length === 11) {
    phoneError.style.display = "none";
    valid.style.display = "block";
  } else {
    phoneError.style.display = "block";
    valid.style.display = "none";
  }
});

// ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æŠ¼ã—ã¦ã‚‹é–“ã ã‘è¡¨ç¤º
showPw.addEventListener("mousedown", () => password.type = "text");
showPw.addEventListener("mouseup", () => password.type = "password");
showPw.addEventListener("mouseleave", () => password.type = "password");
showPw.addEventListener("touchstart", () => password.type = "text");
showPw.addEventListener("touchend", () => password.type = "password");

// é€ä¿¡
sendBtn.addEventListener("click", () => {
  errorMsg.style.display = "none";

  for (const field of fields) {
    const input = field.querySelector("input, select");
    if (!input.value.trim()) {
      errorMsg.style.display = "block";
      return;
    }
  }

  if (emailCharError.style.display === "block" || emailFormatError.style.display === "block" || phoneError.style.display === "block") return;

  loading.style.display = "block";
  setTimeout(() => {
    formCard.style.display = "none";
    resultCard.style.display = "block";
  }, 1600);
});
</script>

</body>
</html>
